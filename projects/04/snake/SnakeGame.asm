// To mimic the snake game we played when we were younger,
// but built in Assembly

// BuildLevel # i.e., walls
@BUILD_BORDER
0;JMP
@END

(END)
  @2
  0;JMP

(BUILD_BORDER)
  @INITIALIZE_TOP_BORDER
  0;JMP

(INITIALIZE_TOP_BORDER)
  @SCREEN // Top-left RAM
  D=A
  @CURRENT_POSITION
  M=D
  @16415 // Top-right RAM
  D=A
  @TOP_RIGHT_CORNER
  M=D
  @TOP_BORDER_VALUE
  M=-1
  @DRAW_TOP_BORDER
  0;JMP

(DRAW_TOP_BORDER)
  @TOP_BORDER_VALUE
  D=M
  @CURRENT_POSITION
  A=M
  M=D
  @CURRENT_POSITION
  M=M+1
  D=M
  @TOP_RIGHT_CORNER
  D=D-M
  @DRAW_TOP_BORDER
  D;JLE
  @INITIALIZE_BOTTOM_BORDER
  0;JMP

(INITIALIZE_BOTTOM_BORDER)
  @24544 // Bottom-left RAM
  D=A
  @CURRENT_POSITION
  M=D
  @24575 // Bottom-right RAM
  D=A
  @BOTTOM_RIGHT_CORNER
  M=D
  @BOTTOM_BORDER_VALUE
  M=-1
  @DRAW_BOTTOM_BORDER
  0;JMP

(DRAW_BOTTOM_BORDER)
  @BOTTOM_BORDER_VALUE
  D=M
  @CURRENT_POSITION
  A=M
  M=D
  @CURRENT_POSITION
  M=M+1
  D=M
  @BOTTOM_RIGHT_CORNER
  D=D-M
  @DRAW_BOTTOM_BORDER
  D;JLE
  @INITIALIZE_LEFT_BORDER
  0;JMP

(INITIALIZE_LEFT_BORDER)
  @16416 // Upper-left RAM
  D=A
  @CURRENT_POSITION
  M=D
  @24512 // Lower-left RAM
  D=A
  @LOWER_LEFT_CORNER
  M=D
  @LEFT_BORDER_VALUE
  M=1
  @32
  D=A
  @SCREEN_WIDTH
  M=D
  @DRAW_LEFT_BORDER
  D;JMP

(DRAW_LEFT_BORDER)
  @LEFT_BORDER_VALUE
  D=M
  @CURRENT_POSITION
  A=M
  M=D
  @SCREEN_WIDTH
  D=M
  @CURRENT_POSITION
  M=M+D
  D=M
  @LOWER_LEFT_CORNER
  D=D-M
  @DRAW_LEFT_BORDER
  D;JLE
  @INITIALIZE_RIGHT_BORDER
  0;JMP

(INITIALIZE_RIGHT_BORDER) // LOOK AT FOR LEFT?
  @16447 // Upper-right RAM
  D=A
  @CURRENT_POSITION
  M=D
  @24543 // Lower-right RAM
  D=A
  @LOWER_RIGHT_CORNER
  M=D
  @RIGHT_BORDER_VALUE
  M=0
  @16384
  D=A
  @RIGHT_BORDER_VALUE
  M=D
  M=D+M
  @32
  D=A
  @SCREEN_WIDTH
  M=D
  @DRAW_RIGHT_BORDER
  0;JMP

(DRAW_RIGHT_BORDER)
  @RIGHT_BORDER_VALUE
  D=M
  @CURRENT_POSITION
  A=M
  M=D
  @SCREEN_WIDTH
  D=M
  @CURRENT_POSITION
  M=M+D
  D=M
  @LOWER_RIGHT_CORNER
  D=D-M
  @DRAW_RIGHT_BORDER
  D;JLE
  @END
  0;JMP

// 16384